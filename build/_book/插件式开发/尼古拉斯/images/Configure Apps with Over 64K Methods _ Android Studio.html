<!DOCTYPE html>
<!-- saved from url=(0062)https://developer.android.com/studio/build/multidex.html#avoid -->
<html lang="zh-cn" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


  


<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">




<script type="text/javascript" async="" src="./Configure Apps with Over 64K Methods _ Android Studio_files/linkid.js"></script><script async="" src="./Configure Apps with Over 64K Methods _ Android Studio_files/analytics.js"></script><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>



<meta name="xsrf_token" content="BK8Xxz8YQdyhmJfwyR0ILpJApTei7OKaV7yPQEHMGzw6MTQ2OTQ0MDEzNDc1OTY1MA">


  <link rel="canonical" href="https://developer.android.com/studio/build/multidex.html">



  
  <link rel="alternate" href="https://developer.android.com/studio/build/multidex.html" hreflang="en">
  


<link rel="shortcut icon" href="https://developer.android.com/favicon.ico">



<title>

  Configure Apps with Over 64K Methods | Android Studio

</title>
<meta name="description" content="None">

<!-- STYLESHEETS -->
<link rel="stylesheet" href="./Configure Apps with Over 64K Methods _ Android Studio_files/css">
<link rel="stylesheet" href="./Configure Apps with Over 64K Methods _ Android Studio_files/css(1)" title="roboto">




<link href="./Configure Apps with Over 64K Methods _ Android Studio_files/default.css" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="./Configure Apps with Over 64K Methods _ Android Studio_files/jsapi" type="text/javascript"></script>
<script src="./Configure Apps with Over 64K Methods _ Android Studio_files/android_3p-bundle.js" type="text/javascript"></script>


<script type="text/javascript">
  var toRoot = '/';
  var metaTags = ""; 
  var useUpdatedTemplates = true;
  var devsiteLang = 'zh-cn';
  var pageType = 'None';
  var ANDROID_LANGUAGES = [
    
      
      'en','es','in','ja','ko','pt-br','ru','vi','zh-cn','zh-tw'
    
  ];
</script>
<script src="./Configure Apps with Over 64K Methods _ Android Studio_files/docs.js" type="text/javascript"></script>



<style type="text/css">.fancybox-margin{margin-right:15px;}</style></head>

<body class="gc-documentation dac-studio no-crumbs guide  dac-nav-open" itemscope="" itemtype="http://schema.org/Article" codota-ext-present="true" style="position: static;">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension5&quot;: &quot;zh-cn&quot;, &quot;dimension3&quot;: false, &quot;dimension8&quot;: null, &quot;dimension1&quot;: &quot;Signed out&quot;}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension5&quot;: &quot;zh-cn&quot;, &quot;dimension3&quot;: false, &quot;dimension8&quot;: null, &quot;dimension1&quot;: &quot;Signed out&quot;}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "language": {"requested": "zh-cn", "served": "en"}, "projectName": null, "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  <a href="https://developer.android.com/studio/build/multidex.html#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav="" href="https://developer.android.com/studio/build/multidex.html" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
<a class="dac-header-logo" href="https://developer.android.com/studio/index.html">
  <img class="dac-header-logo-image" src="./Configure Apps with Over 64K Methods _ Android Studio_files/studio-icon.png" srcset="https://developer.android.com/studio/images/studio-icon_2x.png 2x" width="34" height="36" alt=""> Android Studio</a>
<ul class="dac-header-tabs">
  <li>
    <a class="dac-header-tab" href="https://developer.android.com/studio/features.html">Features</a>
  </li>
  <li>
    <a class="dac-header-tab selected" href="https://developer.android.com/studio/intro/index.html">User Guide</a>
  </li>
</ul>
<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="Search">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>


      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    <div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2 style="padding-bottom: 0px;">Most visited</h2><hr>
          <div class="resource-flow-layout cols" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"><div class="resource-flow-page"><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-design" href="https://developer.android.com/design/index.html"><div class="card-bg" style="background-image: url(&quot;/design/media/hero-material-design.png&quot;);"></div><div class="card-info"><div class="section">design</div><div class="title">Design</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">Create beautiful experiences in your apps.</div></div></div></a></div><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-design" href="https://developer.android.com/design/style/devices-displays.html"><div class="card-bg" style="background-image: url(&quot;/design/media/devices_displays_main.png&quot;);"></div><div class="card-info"><div class="section">design</div><div class="title">Devices and Displays</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">Take advantage of Android's flexible layout system and create apps that gracefully scale from phones to tablets and beyond.</div></div></div></a></div><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-design" href="https://developer.android.com/design/patterns/navigation.html"><div class="card-bg" style="background-image: url(&quot;/design/media/navigation_between_siblings_gmail.png&quot;);"></div><div class="card-info"><div class="section">design</div><div class="title">Navigation with Back and Up</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">Consistent navigation is an essential component of the overall user experience. Few things frustrate users more than basic navigation that behaves in inconsistent and unexpected ways. Thoughtfully following the guidelines for Back and Up will make your…</div></div></div></a></div></div></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2 style="padding-bottom: 0px;">Recently visited</h2><hr>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"><div class="resource-flow-page"><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-design" href="https://developer.android.com/design/index.html"><div class="card-bg" style="background-image: url(&quot;/design/media/hero-material-design.png&quot;);"></div><div class="card-info"><div class="section">design</div><div class="title">Design</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">Create beautiful experiences in your apps.</div></div></div></a></div><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-develop" href="https://developer.android.com/guide/index.html"><div class="card-bg" style="background-image: url(&quot;/static/images/resource-card-default-android.jpg&quot;);"></div><div class="card-info"><div class="section">guide</div><div class="title">Introduction to Android</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">Android provides a rich application framework that allows you to build innovative apps and games for mobile devices in a Java language environment. The documents listed in the left navigation provide details about how to build apps using Android's…</div></div></div></a></div><div class="col-6of6"><a class="resource resource-card resource-card-18x2 resource-card-develop" href="https://developer.android.com/guide/practices/screens_support.html"><div class="card-bg" style="background-image: url(&quot;/images/screens_support/screens-ranges.png&quot;);"></div><div class="card-info"><div class="section">guide</div><div class="title">Supporting Multiple Screens</div><div class="description ellipsis" style="height: 20px;"><div class="text" style="height: auto;">Managing UIs for the best display on multiple screen sizes.</div></div></div></a></div></div></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
        <h2 style="padding-bottom: 0px;">Results for <span id="search-results-for"></span></h2><hr>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-3of6 col-tablet-1of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
        <div id="dac-custom-search-results"></div>
      </div>
    </div>

  </div>
</div>

  </header>

  <a name="navigation" tabindex="0" class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav=""></div>
    <div class="dac-nav-sidebar" data-swap="" data-dynamic="false" data-transition-speed="300" data-dac-nav="">
      <div data-swap-container="">
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-active" tabindex="0" data-swap-button="">
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">User Guide</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope="" itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/intro/index.html">Meet Android Studio</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/intro/migrate.html">Migrate to Studio</a></li><li><a href="https://developer.android.com/studio/intro/studio-config.html">Configure the IDE</a></li><li><a href="https://developer.android.com/studio/intro/keyboard-shortcuts.html">Keyboard Shortcuts</a></li><li><a href="https://developer.android.com/studio/intro/update.html">Update the IDE and Tools</a></li></ul></li><li class="nav-section"><div class="nav-section-header empty"><a href="https://developer.android.com/studio/workflow.html">Workflow Basics</a></div></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/projects/index.html">Manage Your Project</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/projects/create-project.html">Create a Project</a></li><li><a href="https://developer.android.com/studio/projects/add-app-module.html">Add a Module for a New Device</a></li><li><a href="https://developer.android.com/studio/projects/android-library.html">Create an Android Library</a></li><li><a href="https://developer.android.com/studio/projects/templates.html">Add Code from a Template</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/write/index.html">Write Your App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/write/lint.html">Improve Your Code with Lint</a></li><li><a href="https://developer.android.com/studio/write/annotations.html">Improve Code Inspection</a></li><li><a href="https://developer.android.com/studio/write/layout-editor.html">Design a UI with Layout Editor</a></li><li><a href="https://developer.android.com/studio/write/theme-editor.html">Design App Themes</a></li><li><a href="https://developer.android.com/studio/write/vector-asset-studio.html">Add Multi-Density Vector Graphics</a></li><li><a href="https://developer.android.com/studio/write/image-asset-studio.html">Add Bitmap Images</a></li><li><a href="https://developer.android.com/studio/write/draw9patch.html">Create Resizable Bitmaps (9-Patch)</a></li><li><a href="https://developer.android.com/studio/write/translations-editor.html">Localize the UI</a></li><li><a href="https://developer.android.com/studio/write/app-link-indexing.html">Add URL and App Indexing Support</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/run/index.html">Build and Run Your App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/run/emulator.html">Run Apps on the Emulator</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/run/managing-avds.html">Create and Manage Virtual Devices</a></li><li><a href="https://developer.android.com/studio/run/emulator-commandline.html">Control the Emulator from the Command Line</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/run/device.html">Run Apps on a Hardware Device</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/run/oem-usb.html">Install OEM USB Drivers</a></li><li><a href="https://developer.android.com/studio/run/win-usb.html">Install the Google USB Driver</a></li></ul></li><li><a href="https://developer.android.com/studio/run/rundebugconfig.html">Create Run/Debug Configurations</a></li></ul></li><li class="nav-section expanded"><div class="nav-section-header"><a href="https://developer.android.com/studio/build/index.html">Configure Your Build</a><span class="toggle-icon" tabindex="0"></span></div><ul style="display: block;"><li><a href="https://developer.android.com/studio/build/build-variants.html">Configure Build Variants</a></li><li><a href="https://developer.android.com/studio/build/manifest-merge.html">Merge Multiple Manifests</a></li><li><a href="https://developer.android.com/studio/build/shrink-code.html">Shrink Your Code and Resources</a></li><li class="selected"><a href="https://developer.android.com/studio/build/multidex.html">Configure Apps with Over 64K Methods</a></li><li><a href="https://developer.android.com/studio/build/building-cmdline.html">Run Gradle from the Command Line</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/debug/index.html">Debug Your App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/debug/am-logcat.html">Write and View Logs</a></li><li><a href="https://developer.android.com/studio/debug/am-screenshot.html">Take a Screenshot</a></li><li><a href="https://developer.android.com/studio/debug/am-video.html">Record a Video</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/test/index.html">Test Your App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/test/command-line.html">Test from the Command Line</a></li><li><a href="https://developer.android.com/studio/test/monkey.html">UI/App Exerciser Monkey</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/test/monkeyrunner/index.html">monkeyrunner Reference</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/test/monkeyrunner/MonkeyDevice.html">MonkeyDevice</a></li><li><a href="https://developer.android.com/studio/test/monkeyrunner/MonkeyImage.html">MonkeyImage</a></li><li><a href="https://developer.android.com/studio/test/monkeyrunner/MonkeyRunner.html">MonkeyRunner</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/profile/index.html">Profile Your App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/profile/android-monitor.html">Android Monitor Overview</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/profile/am-basics.html">Begin with Android Monitor Basics</a></li></ul></li><li><a href="https://developer.android.com/studio/profile/am-memory.html">Optimize Memory Use with the Memory Monitor</a></li><li><a href="https://developer.android.com/studio/profile/investigate-ram.html">Investigate Your RAM Usage</a></li><li><a href="https://developer.android.com/studio/profile/am-cpu.html">Tune CPU Use with the CPU Monitor</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/profile/gpu.html">Perfect GPU Use</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/profile/am-gpu.html">Analyze GPU Use with the GPU Monitor</a></li><li><a href="https://developer.android.com/studio/profile/dev-options-overdraw.html">Visualize GPU Overdraw</a></li><li><a href="https://developer.android.com/studio/profile/dev-options-rendering.html">Profile GPU Rendering</a></li></ul></li><li><a href="https://developer.android.com/studio/profile/am-network.html">Track Network Use with the Network Monitor</a></li><li><a href="https://developer.android.com/studio/profile/am-hprof.html">Analyze the Java Heap with the HPROF Viewer and Analyzer</a></li><li><a href="https://developer.android.com/studio/profile/am-allocation.html">Improve Memory Allocation with the Allocation Tracker</a></li><li><a href="https://developer.android.com/studio/profile/am-methodtrace.html">Study the Call Stack with the Method Tracer</a></li><li><a href="https://developer.android.com/studio/profile/am-sysinfo.html">Evaluate dumpsys System Information</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/profile/battery-historian.html">Profile Battery Usage</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/profile/battery-historian-charts.html">Understand Historian Charts</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/profile/monitor.html">Android Device Monitor and DDMS Overview</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/profile/ddms.html">Use DDMS</a></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/profile/traceview.html">Trace Your Code Functions with Traceview</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/profile/traceview-walkthru.html">Walk through Traceview</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/profile/systrace.html">Analyze UI Performance with Systrace</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/profile/systrace-walkthru.html">Walk through Systrace</a></li><li><a href="https://developer.android.com/studio/profile/systrace-commandline.html">Systrace Command Reference</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/profile/hierarchy-viewer.html">Profile Your Layout with Hierarchy Viewer</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/profile/optimize-ui.html">Optimize Your UI</a></li><li><a href="https://developer.android.com/studio/profile/hierarchy-viewer-walkthru.html">Walk through Hierarchy Viewer</a></li><li><a href="https://developer.android.com/studio/profile/hierarchy-viewer-setup.html">Set Up Devices for Hierarchy Viewer</a></li><li><a href="https://developer.android.com/studio/profile/hierarchy-viewer-results-walkthru.html">Interpret Hierarchy Viewer Results</a></li></ul></li><li><a href="https://developer.android.com/studio/profile/heap-viewer-walkthru.html">Inspect the Memory Heap with Heap Viewer</a></li><li><a href="https://developer.android.com/studio/profile/allocation-tracker-walkthru.html">Track Memory Allocation with Allocation Tracker</a></li><li><a href="https://developer.android.com/studio/profile/gltracer.html">Trace OpenGL Code</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/publish/index.html">Publish Your App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/publish/preparing.html" zh-cn-lang="准备发布">准备发布</a></li><li><a href="https://developer.android.com/studio/publish/versioning.html">Version Your App</a></li><li><a href="https://developer.android.com/studio/publish/app-signing.html">Sign Your App</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/command-line/index.html">Command Line Tools</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/command-line/adb.html">adb</a></li><li><a href="https://developer.android.com/studio/command-line/bmgr.html">bmgr</a></li><li><a href="https://developer.android.com/studio/command-line/etc1tool.html">etc1tool</a></li><li><a href="https://developer.android.com/studio/command-line/jobb.html">jobb</a></li><li><a href="https://developer.android.com/studio/command-line/logcat.html">logcat</a></li><li><a href="https://developer.android.com/studio/command-line/mksdcard.html">mksdcard</a></li><li><a href="https://developer.android.com/studio/command-line/zipalign.html">zipalign</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="https://developer.android.com/studio/releases/index.html">Release Notes</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="https://developer.android.com/studio/releases/sdk-tools.html">SDK Tools</a></li><li><a href="https://developer.android.com/studio/releases/build-tools.html">SDK Build Tools</a></li><li><a href="https://developer.android.com/studio/releases/gradle-plugin.html">Android Plugin for Gradle</a></li><li><a href="https://developer.android.com/studio/releases/platforms.html">SDK Platform</a></li></ul></li>
            </ul>
            
          
        </div>
        
        
  
<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left">
  <li class="dac-nav-item">
    <a class="dac-nav-back-button back-to-dev" tabindex="0" href="https://developer.android.com/develop/index.html">
      <i class="dac-sprite dac-nav-back"></i>Back to Developers
    </a>
  </li>
  <li class="dac-nav-item download">
    <a class="dac-nav-link" href="https://developer.android.com/studio/index.html">Download</a>
  </li>
  <li class="dac-nav-item features">
    <a class="dac-nav-link" href="https://developer.android.com/studio/features.html">Features</a>
  </li>
  <li class="dac-nav-item guide">
    <a class="dac-nav-link selected" href="https://developer.android.com/studio/intro/index.html">User Guide</a><span class="dac-nav-link-forward" tabindex="0"><i class="dac-sprite dac-nav-forward"></i></span>
  </li>
</ul>


      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs dac-has-content"><li class="dac-header-crumbs-item"><a class="dac-header-crumbs-link" href="https://developer.android.com/studio/intro/index.html">User Guide</a></li><li class="dac-header-crumbs-item"><a class="dac-header-crumbs-link" href="https://developer.android.com/studio/build/index.html">Configure Your Build</a></li></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">Configure Apps with Over 64K Methods</h1>
        
      </div>
      
    

    

<div id="qv-wrapper">
  <div id="qv">
    <h2>In this document</h2>
    <ol>
      <li><a href="https://developer.android.com/studio/build/multidex.html#about">
        About the 64K Reference Limit</a>
        <ol>
          <li><a href="https://developer.android.com/studio/build/multidex.html#mdex-pre-l">Multidex support prior to Android 5.0</a></li>
          <li><a href="https://developer.android.com/studio/build/multidex.html#mdex-on-l">Multidex support for Android 5.0 and higher</a></li>
        </ol>
      </li>
      <li><a href="https://developer.android.com/studio/build/multidex.html#avoid">
        Avoiding the 64K Limit</a></li>
      <li><a href="https://developer.android.com/studio/build/multidex.html#mdex-gradle">
        Configuring Your App for Multidex with Gradle</a>
        <ol>
          <li><a href="https://developer.android.com/studio/build/multidex.html#limitations">
            Limitations of the multidex support library</a></li>
        </ol>
      </li>
      <li><a href="https://developer.android.com/studio/build/multidex.html#dev-build">
        Optimizing Multidex Development Builds</a>
        <ol>
          <li><a href="https://developer.android.com/studio/build/multidex.html#variants-studio">
            Using Build Variants in Android Studio</a></li>
        </ol>
      </li>
      <li><a href="https://developer.android.com/studio/build/multidex.html#testing">
        Testing Multidex Apps</a></li>
    </ol>

    <h2>See Also</h2>
    <ol>
      <li><a href="https://developer.android.com/tools/help/proguard.html">ProGuard</a>
      </li>
    </ol>
  </div>
</div>


<p>
  As the Android platform has continued to grow, so has the size of Android apps. When your
  application and the libraries it references reach a certain size, you encounter build errors that
  indicate your app has reached a limit of the Android app build architecture. Earlier versions of
  the build system report this error as follows:
</p>

<pre class="prettyprint"><span class="typ">Conversion</span><span class="pln"> to </span><span class="typ">Dalvik</span><span class="pln"> format failed</span><span class="pun">:</span><span class="pln"><br></span><span class="typ">Unable</span><span class="pln"> to execute dex</span><span class="pun">:</span><span class="pln"> method ID </span><span class="kwd">not</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xffff</span><span class="pun">]:</span><span class="pln"> </span><span class="lit">65536</span></pre>

<p>
  More recent versions of the Android build system display a different error, which is an
  indication of the same problem:
</p>

<pre class="prettyprint"><span class="pln">trouble writing output</span><span class="pun">:</span><span class="pln"><br></span><span class="typ">Too</span><span class="pln"> many field references</span><span class="pun">:</span><span class="pln"> </span><span class="lit">131000</span><span class="pun">;</span><span class="pln"> max </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">65536.</span><span class="pln"><br></span><span class="typ">You</span><span class="pln"> may </span><span class="kwd">try</span><span class="pln"> </span><span class="kwd">using</span><span class="pln"> </span><span class="pun">--</span><span class="pln">multi</span><span class="pun">-</span><span class="pln">dex option</span><span class="pun">.</span></pre>

<p>
  Both these error conditions display a common number: 65,536. This number is significant in that
  it represents the total number of references that can be invoked by the code within a single
  Dalvik Executable (dex) bytecode file. If you have built an Android app and received this error,
  then congratulations, you have a lot of code! This document explains how to move past this
  limitation and continue building your app.
</p>

<p class="note">
  <strong>Note:</strong> The guidance provided in this document supersedes the guidance given in
  the Android Developers blog post <a href="http://android-developers.blogspot.com/2011/07/custom-class-loading-in-dalvik.html">Custom Class
  Loading in Dalvik</a>.
</p>


<h2 id="about" style="padding-bottom: 0px;">About the 64K Reference Limit</h2><hr>

<p>
  Android application (APK) files contain executable bytecode files in the form
  of <a href="https://source.android.com/devices/tech/dalvik/">Dalvik</a>
  Executable (DEX) files, which contain the compiled code used to run your app.
  The Dalvik Executable specification limits the total number of methods that
  can be referenced within a single DEX file to 65,536—including Android
  framework methods, library methods, and methods in your own code. In the
  context of computer science, the term <a class="external-link" href="https://en.wikipedia.org/wiki/Kilo-"><em>Kilo, K</em></a>, denotes 1024 (or
  2^10). Because 65,536 is equal to 64 X 1024, this limit is referred to as the
  '64K reference limit'.
</p>

<p>
  Getting past this limit requires that you configure your app build process to
  generate more than one DEX file, known as a <em>multidex</em> configuration.
</p>

<h3 id="mdex-pre-l">Multidex support prior to Android 5.0</h3>

<p>
  Versions of the platform prior to Android 5.0 (API level 21) use the Dalvik
  runtime for executing app code. By default, Dalvik limits apps to a single
  classes.dex bytecode file per APK. In order to get around this limitation,
  you can use the <a href="https://developer.android.com/tools/support-library/features.html#multidex">multidex support
  library</a>, which becomes part of the primary DEX file of your app and then
  manages access to the additional DEX files and the code they contain.
</p>

<p class="note">
  <strong>Note:</strong> If your project is configured for multidex with
  <code>minSdkVersion 20</code> or lower, and you deploy to target devices
  running Android 4.4 (API level 20) or lower, Android Studio disables <a href="https://developer.android.com/tools/building/building-studio.html#instant-run">Instant Run</a>.
</p>

<h3 id="mdex-on-l">Multidex support for Android 5.0 and higher</h3>

<p>
  Android 5.0 (API level 21) and higher uses a runtime called ART which
  natively supports loading multiple dex files from application APK files. ART
  performs pre-compilation at application install time which scans for
  classes(..N).dex files and compiles them into a single .oat file for
  execution by the Android device. For more information on the Android 5.0
  runtime, see <a href="https://source.android.com/devices/tech/dalvik/art.html">Introducing
  ART</a>.
</p>

<p class="note">
  <strong>Note:</strong> While using <a href="https://developer.android.com/tools/building/building-studio.html#instant-run">Instant Run</a>,
  Android Studio automatically configures your app for multidex when your app's
  <code>minSdkVersion</code> is set to 21 or higher. Because Instant Run only
  works with the debug version of your app, you still need to configure your
  release build for multidex to avoid the 64K limit.
</p>

<h2 id="avoid" style="padding-bottom: 0px;">Avoiding the 64K Limit</h2><hr>

<p>
  Before configuring your app to enable use of 64K or more method references, you should take steps
  to reduce the total number of references called by your app code, including methods defined by
  your app code or included libraries. The following strategies can help you avoid hitting the dex
  reference limit:
</p>

<ul>
  <li>
    <strong>Review your app's direct and transitive dependencies</strong> - Ensure any large library
    dependency you include in your app is used in a manner that outweighs the amount of code
    being added to the application. A common anti-pattern is to include a very large library
    because a few utility methods were useful. Reducing your app code dependencies can often help
    you avoid the dex reference limit.
  </li>
  <li>
    <strong>Remove unused code with ProGuard</strong> - Configure the <a href="https://developer.android.com/tools/help/proguard.html">ProGuard</a> settings for your app to run ProGuard and
    ensure you have shrinking enabled for release builds. Enabling shrinking ensures you
    are not shipping unused code with your APKs.
  </li>
</ul>


<p>
  Using these techniques can help you avoid the build configuration changes required to enable more
  method references in your app. These steps can also decrease the size of your APKs, which is
  particularly important for markets where bandwidth costs are high.
</p>


<h2 id="mdex-gradle" style="padding-bottom: 0px;">Configuring Your App for Multidex with Gradle</h2><hr>

<p>
  The Android plugin for Gradle available in Android SDK Build Tools 21.1 and higher supports
  multidex as part of your build configuration. Make sure you update the Android SDK Build Tools
  tools and the Android Support Repository to the latest version using the <a href="https://developer.android.com/tools/help/sdk-manager.html">SDK Manager</a> before attempting to configure your app
  for multidex.
</p>

<p>
  Setting up your app development project to use a multidex configuration requires that you make a
  few modifications to your app development project. In particular you need to perform the
  following steps:
</p>

<ul>
  <li>Change your Gradle build configuration to enable multidex</li>
  <li>Modify your manifest to reference the <code><a href="https://developer.android.com/reference/android/support/multidex/MultiDexApplication.html">MultiDexApplication</a></code>
    class</li>
</ul>

<p>
  Modify the module-level <code>build.gradle</code> file configuration to
  include the support library and enable multidex output, as shown in the
  following code snippet:
</p>

<pre class="prettyprint"><span class="pln">android </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; compileSdkVersion </span><span class="lit">21</span><span class="pln"><br>&nbsp; &nbsp; buildToolsVersion </span><span class="str">"21.1.0"</span><span class="pln"><br><br>&nbsp; &nbsp; defaultConfig </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; minSdkVersion </span><span class="lit">14</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; targetSdkVersion </span><span class="lit">21</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Enabling multidex support.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; multiDexEnabled </span><span class="kwd">true</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>dependencies </span><span class="pun">{</span><span class="pln"><br>&nbsp; compile </span><span class="str">'com.android.support:multidex:1.0.0'</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>
  In your manifest add the <code><a href="https://developer.android.com/reference/android/support/multidex/MultiDexApplication.html">MultiDexApplication</a></code> class from the
  multidex support library to the application element.
</p>

<pre class="prettyprint"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> encoding</span><span class="pun">=</span><span class="str">"utf-8"</span><span class="pun">?&gt;</span><span class="pln"><br></span><span class="tag">&lt;manifest</span><span class="pln"> </span><span class="atn">xmlns:android</span><span class="pun">=</span><span class="atv">"http://schemas.android.com/apk/res/android"</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="atn">package</span><span class="pun">=</span><span class="atv">"com.example.android.multidex.myapplication"</span><span class="tag">&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;application</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; ...<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:name</span><span class="pun">=</span><span class="atv">"android.support.multidex.MultiDexApplication"</span><span class="tag">&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; ...<br>&nbsp; &nbsp; </span><span class="tag">&lt;/application&gt;</span><span class="pln"><br></span><span class="tag">&lt;/manifest&gt;</span></pre>

<p>
  When these configuration settings are added to an app, the Android build tools construct a
  primary dex (classes.dex) and supporting (classes2.dex, classes3.dex) as needed. The build system
  will then package them into an APK file for distribution.
</p>

<p class="note">
  <strong>Note:</strong> If your app uses extends the <code><a href="https://developer.android.com/reference/android/app/Application.html">Application</a></code> class, you
  can override the attachBaseContext() method and call MultiDex.install(this) to enable multidex.
  For more information, see the <code><a href="https://developer.android.com/reference/android/support/multidex/MultiDexApplication.html">MultiDexApplication</a></code> reference
  documentation.
</p>

<h3 id="limitations">Limitations of the multidex support library</h3>

<p>
  The multidex support library has some known limitations that you should be aware of and test for
  when you incorporate it into your app build configuration:
</p>

<ul>
  <li>The installation of .dex files during startup onto a device's data partition is complex and
  can result in Application Not Responding (ANR) errors if the secondary dex files are large. In
  this case, you should apply code shrinking techniques with ProGuard to minimize the size of dex
  files and remove unused portions of code.
  </li>

  <li>Applications that use multidex may not start on devices that run versions of the platform
  earlier than Android 4.0 (API level 14) due to a Dalvik linearAlloc bug (Issue <a href="http://b.android.com/22586">22586</a>). If you are targeting API levels earlier than 14, make
  sure to perform testing with these versions of the platform as your application can have issues
  at startup or when particular groups of classes are loaded. Code shrinking can reduce or possibly
  eliminate these potential issues.
  </li>

  <li>Applications using a multidex configuration that make very large memory allocation
  requests may crash during run time due to a Dalvik linearAlloc limit (Issue <a href="http://b.android.com/78035">78035</a>). The allocation limit was increased in Android 4.0 (API
  level 14), but apps may still run into this limit on Android versions prior to
  Android 5.0 (API level 21).
  </li>

  <li>There are complex requirements regarding what classes are needed in the primary dex file when
  executing in the Dalvik runtime. The Android build tooling updates handle the Android
  requirements, but it is possible that other included libraries have additional dependency
  requirements including the use of introspection or invocation of Java methods from native code.
  Some libraries may not be able to be used until the multidex build tools are updated to allow you
  to specify classes that must be included in the primary dex file.
  </li>
</ul>


<h2 id="dev-build" style="padding-bottom: 0px;">Optimizing Multidex Development Builds</h2><hr>

<p>
  A multidex configuration requires significantly increased build processing time because the build
  system must make complex decisions about what classes must be included in the primary DEX file
  and what classes can be included in secondary DEX files. This means that routine builds performed
  as part of the development process with multidex typically take longer and can potentially slow
  your development process.
</p>

<p>
  In order to mitigate the typically longer build times for multidex output, you should create two
  variations on your build output using the Android plugin for Gradle
  <a href="http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Product-flavors">
  <code>productFlavors</code></a>: a development flavor and a production flavor.
</p>

<p>
  For the development flavor, set a minimum SDK version of 21. This setting generates multidex
  output much faster using the ART-supported format. For the release flavor, set a minimum SDK
  version which matches your actual minimum support level. This setting generates a multidex APK
  that is compatible with more devices, but takes longer to build.
</p>

<p>
  The following build configuration sample demonstrates the how to set up these flavors in a Gradle
  build file:
</p>

<pre class="prettyprint"><span class="pln">android </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; productFlavors </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Define separate dev and prod product flavors.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; dev </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// dev utilizes minSDKVersion = 21 to allow the Android gradle plugin</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// to pre-dex each module and produce an APK that can be tested on</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Android Lollipop without time consuming dex merging processes.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; minSdkVersion </span><span class="lit">21</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; prod </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// The actual minSdkVersion for the application.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; minSdkVersion </span><span class="lit">14</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; buildTypes </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; release </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; runProguard </span><span class="kwd">true</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; proguardFiles getDefaultProguardFile</span><span class="pun">(</span><span class="str">'proguard-android.txt'</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="str">'proguard-rules.pro'</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br>dependencies </span><span class="pun">{</span><span class="pln"><br>&nbsp; compile </span><span class="str">'com.android.support:multidex:1.0.0'</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p>
  After you have completed this configuration change, you can use the <code>devDebug</code> variant
  of your app, which combines the attributes of the <code>dev</code> productFlavor and the
  <code>debug</code> buildType. Using this target creates a debug app with proguard disabled,
  multidex enabled, and minSdkVersion set to Android API level 21. These settings cause the Android
  gradle plugin to do the following:
</p>

<ol>
  <li>Build each module of the application (including dependencies) as separate dex files. This is
  commonly referred to as pre-dexing.
  </li>

  <li>Include each dex file in the APK without modification.
  </li>

  <li>Most importantly, the module dex files will not be combined, and so the long-running
  calculation to determine the contents of the primary dex file is avoided.
  </li>
</ol>

<p>
  These settings result in fast, incremental builds, because only the dex files of modified modules
  are recomputed and repackaged into the APK file. The APK that results from these builds can be
  used to test on Android 5.0 devices only. However, by implementing the configuration as a flavor,
  you preserve the ability to perform normal builds with the release-appropriate minimum SDK level
  and proguard settings.
</p>

<p>
  You can also build the other variants, including a <code>prodDebug</code> variant
  build, which takes longer to build, but can be used for testing outside of development.
  Within the configuration shown, the <code>prodRelease</code> variant would be the final testing
  and release version. If you are executing gradle tasks from the command line, you can use
  standard commands with <code>DevDebug</code> appended to the end (such as <code>./gradlew
  installDevDebug</code>). For more information about using flavors with Gradle tasks, see the
  <a href="http://tools.android.com/tech-docs/new-build-system/user-guide">Gradle Plugin User
  Guide</a>.
</p>

<p>
  <strong>Tip:</strong> You can also provide a custom manifest, or a custom application class for each
  flavor, allowing you to use the support library MultiDexApplication class, or calling
  MultiDex.install() only for the variants that need it.
</p>


<h3 id="variants-studio">Using Build Variants in Android Studio</h3>

<p>
  Build variants can be very useful for managing the build process when using multidex. Android
  Studio allows you to select these build variants in the user interface.
</p>

<p>
  To have Android Studio build the "devDebug" variant of your app:
</p>

<ol>
  <li>Open the <em>Build Variants</em> window from the left-sidebar. The option is located next to
  <em>Favorites</em>.
  </li>

  <li>Click the name of the build variant to select a different variant, as shown in Figure 1.
  </li>
</ol>

<img src="./Configure Apps with Over 64K Methods _ Android Studio_files/studio-build-variant.png" alt="" height="XXX" id="figure1">
<p class="img-caption">
  <strong>Figure 1.</strong> Screen shot of the Android Studio left panel showing a build variant.
</p>

<p class="note">
  <strong>Note</strong>: The option to open this window is only available after you have
  successfully synchronized Android Studio with your Gradle build file using the <strong>Tools &gt;
  Android &gt; Sync Project with Gradle Files</strong> command.
</p>


<h2 id="testing" style="padding-bottom: 0px;">Testing Multidex Apps</h2><hr>

<p>
  When using instrumentation tests with multidex apps, additional configuration is required to
  enable the test instrumentation. Because the location of code for classes in multidex apps is not
  within a single DEX file, instrumentation tests do not run properly unless configured for
  multidex.
</p>

<p>
  To test a multidex app with instrumentation tests, configure the
  <a href="https://developer.android.com/reference/com/android/test/runner/MultiDexTestRunner.html">
  MultiDexTestRunner</a> from the multidex testing support library. The following sample
  <code>build.gradle</code> file demonstrates how to configure your build to use this test runner:
</p>

<pre class="prettyprint"><span class="pln">android </span><span class="pun">{</span><span class="pln"><br>&nbsp; defaultConfig </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; testInstrumentationRunner </span><span class="str">"com.android.test.runner.MultiDexTestRunner"</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p class="note">
  <strong>Note:</strong> With Android Plugin for Gradle versions lower than 1.1, you need to add
  the following dependency for <code>multidex-instrumentation</code>:
</p><pre class="prettyprint"><span class="pln">dependencies </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; androidTestCompile</span><span class="pun">(</span><span class="str">'com.android.support:multidex-instrumentation:1.0.1'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exclude </span><span class="kwd">group</span><span class="pun">:</span><span class="pln"> </span><span class="str">'com.android.support'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">module</span><span class="pun">:</span><span class="pln"> </span><span class="str">'multidex'</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre>
<p></p>


<p>
  You may use the instrumentation test runner class directly or extend it to fit your testing
  needs. Alternatively, you can override onCreate in existing instrumentations like this:
</p>

<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCreate</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> arguments</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">MultiDex</span><span class="pun">.</span><span class="pln">install</span><span class="pun">(</span><span class="pln">getTargetContext</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onCreate</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p class="note">
  <strong>Note:</strong> Use of multidex for creating a test APK is not currently supported.
</p>



    

    
    



<div class="wrap">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <a class="dac-footer-getnews" id="newsletter" data-modal-toggle="newsletter" title="Sign up for the newsletter">
          Get news &amp; tips <span class="dac-fab dac-primary"><i class="dac-sprite dac-mail"></i><span class="hide-text">Sign up for the newsletter</span></span>
        </a>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="http://android-developers.blogspot.com/" title="Blog">Blog</a>
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html" title="Support">Support</a>
        </div>
        <div class="dac-footer-social">
          <a class="dac-button-social dac-youtube dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers" title="Android Developers on YouTube"><i class="dac-sprite dac-youtube"></i><span class="hide-text">Android Developers on YouTube</span></a>
          <a class="dac-button-social dac-gplus dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers" title="Android Developers on Google+"><i class="dac-sprite dac-gplus"></i><span class="hide-text">Android Developers on Google+</span></a>
          <a class="dac-button-social dac-twitter dac-footer-social-link" href="https://twitter.com/AndroidDev" title="Android Developers on Twitter"><i class="dac-sprite dac-twitter"></i><span class="hide-text">Android Developers on Twitter</span></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator">
      
      <p class="dac-footer-copyright">
        Except as noted, this content is
        licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
        Creative Commons Attribution 2.5</a>. For details and
        restrictions, see the <a href="https://developer.android.com/license.html">Content
        License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="https://developer.android.com/about/android.html" title="About Android">About Android</a>
      <a href="https://developer.android.com/auto/index.html" title="Auto">Auto</a>
      <a href="https://developer.android.com/tv/index.html" title="TV">TV</a>
      <a href="https://developer.android.com/wear/index.html" title="Wear">Wear</a>
      <a href="https://developer.android.com/legal.html" title="Legal">Legal</a>

      </p><form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
        <input type="hidden" name="xsrf_token" value="BK8Xxz8YQdyhmJfwyR0ILpJApTei7OKaV7yPQEHMGzw6MTQ2OTQ0MDEzNDc1OTY1MA">
        <input type="hidden" name="next" value="/studio/build/multidex.html">
        <span id="language" class="locales">
        <select id="footer_language" name="language">
          
            
            
            <option value="en">
              English
            </option>
            
            <option value="es">
              español
            </option>
            
            <option value="in">
              Bahasa Indonesia
            </option>
            
            <option value="ja">
              日本語
            </option>
            
            <option value="ko">
              한국어
            </option>
            
            <option value="pt-br">
              Português Brasileiro
            </option>
            
            <option value="ru">
              Русский
            </option>
            
            <option value="vi">
              Tiếng Việt
            </option>
            
            <option value="zh-cn" selected="selected">
              简体中文
            </option>
            
            <option value="zh-tw">
              繁體中文
            </option>
            
          
        </select>
        </span>
      </form>
    <p></p>
  </footer>
</div><!--/.wrap -->


<div class="dac-toast-group">
  <div class="dac-toast" data-toast="">
    <div class="dac-toast-wrap">
      This site uses cookies to store your preferences for site-specific language and display options.
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter="" data-swap="" class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <div class="dac-swap" data-swap-container="">
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">获取最新的 Android 开发者资讯和提示，助您在 Google Play 上取得成功。</h2>
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* 必填字段</p>
          </section>
          <section class="dac-swap-section dac-up">
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">太棒了！</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container="">
        <section class="dac-swap-section dac-active dac-left">
          <iframe name="dac-newsletter-iframe" src="./Configure Apps with Over 64K Methods _ Android Studio_files/saved_resource.html" style="display: none;"></iframe><form action="https://docs.google.com/forms/d/1QgnkzbEJIDu9lMEea0mxqWrXUJu0oBCLD7ar23V0Yys/formResponse" class="dac-form" method="post" target="dac-newsletter-iframe">
            <input type="hidden" name="entry.935454734" data-newsletter-language="" value="Simplified Chinese (简体中文)">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">全名</label>
                      <input type="text" class="dac-form-input" name="entry.1357890476" id="newsletter-full-name" required="">
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">电子邮件地址</label>
                      <input type="email" class="dac-form-input" name="entry.472100832" id="newsletter-email" required="">
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">公司/开发者名称</label>
                      <input type="text" class="dac-form-input" name="entry.1664780309" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">您的某个 Play 商店应用网址</label>
                      <input type="url" class="dac-form-input" name="entry.47013838" id="newsletter-play-store" required="">
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <legend class="dac-form-legend"><span data-t="newsletter.business.label">哪一项能够最准确地描述您的业务？</span><span class="dac-form-required">*</span>
                    </legend>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Apps" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-app" required="">
                      <label for="newsletter-business-type-app" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-app" class="dac-form-label" data-t="newsletter.business.apps">应用</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Games" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-games" required="">
                      <label for="newsletter-business-type-games" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-games" class="dac-form-label" data-t="newsletter.business.games">游戏</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Apps and Games" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-appsgames" required="">
                      <label for="newsletter-business-type-appsgames" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-appsgames" class="dac-form-label" data-t="newsletter.business.both">应用和游戏</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="entry.732309842" id="newsletter-add" required="" value="Add me to the mailing list for the monthly newsletter and occasional emails about development and Google Play opportunities.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside"><span data-t="newsletter.confirmMailingList">将我添加到邮寄名单，以便接收每月简报以及不定期发送的关于开发和 Google Play 商机的电子邮件。</span><span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="entry.2045036090" id="newsletter-terms" required="" value="I acknowledge that the information provided in this form will be subject to Google&#39;s privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html="">我确认自己了解在此表单中提供的信息受 <a href="https://www.google.com/intl/zh-CN/policies/privacy/" target="_blank">Google</a> 隐私权政策的约束。</span><span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">您已成功订阅最新的 Android 开发者资讯和提示。</p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">Browse this site in Simplified Chinese (简体中文)?</h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">You requested a page in Simplified Chinese (简体中文), but your language preference for this site is Simplified Chinese (简体中文).</p>
                  <p id="resetLangCta">Would you like to change your language preference and browse this site in Simplified Chinese (简体中文)? If you want to change your language preference later, use the language menu at the bottom of each page.</p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="https://developer.android.com/studio/build/multidex.html#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle="">Change Language</button>
            </a>
            <a href="https://developer.android.com/studio/build/multidex.html#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle="">Not Now</button>
            </a>
          </footer>
        
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle=""></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            This class requires API level <span class="api-level"></span>
            or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">

      <p>This doc is hidden because your selected API level for the
      documentation is <span class="selected-level"></span>. You can change the
      documentation API level with the selector above the left navigation.</p>

      <p>For more information about specifying the API level your app requires,
      read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting
      Different Platform Versions</a>.</p>

          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="https://developer.android.com/studio/build/multidex.html#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok" data-modal-toggle="">
                OK, make this page visible
              </button>
            </a>
          </footer>
        
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/ytblogger_lists_unified.js" defer=""></script>
  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/jd_lists_unified_en.js" defer=""></script>
  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/lists.js" defer=""></script>
  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/gcm_lists.js" defer=""></script>
  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/gms_lists.js" defer=""></script>
  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/lists(1).js" defer=""></script>
  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/lists(2).js" defer=""></script>
  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/saved_resource"></script>

  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      // Write it to the document so it gets evaluated before DOMContentReady.
      document.write('<script src="/jd_lists_unified_' + lang + '.js?v=2016072509" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('#setlang select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('#setlang').submit();
      });
    });
  </script><script src="./Configure Apps with Over 64K Methods _ Android Studio_files/jd_lists_unified_zh-cn.js" defer=""></script>

  <script src="./Configure Apps with Over 64K Methods _ Android Studio_files/script_foot_closure_android__zh_cn.js"></script>
  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
    })(jQuery);
  </script>

  



<audio controls="controls" style="display: none;"></audio><div id="gtx-trans" style="position: absolute; left: 366px; top: 2129px;"><div class="gtx-trans-icon"></div></div></body><style type="text/css">#yddContainer{display:block;font-family:Microsoft YaHei;position:relative;width:100%;height:100%;top:-4px;left:-4px;font-size:12px;border:1px solid}#yddTop{display:block;height:22px}#yddTopBorderlr{display:block;position:static;height:17px;padding:2px 28px;line-height:17px;font-size:12px;color:#5079bb;font-weight:bold;border-style:none solid;border-width:1px}#yddTopBorderlr .ydd-sp{position:absolute;top:2px;height:0;overflow:hidden}.ydd-icon{left:5px;width:17px;padding:0px 0px 0px 0px;padding-top:17px;background-position:-16px -44px}.ydd-close{right:5px;width:16px;padding-top:16px;background-position:left -44px}#yddKeyTitle{float:left;text-decoration:none}#yddMiddle{display:block;margin-bottom:10px}.ydd-tabs{display:block;margin:5px 0;padding:0 5px;height:18px;border-bottom:1px solid}.ydd-tab{display:block;float:left;height:18px;margin:0 5px -1px 0;padding:0 4px;line-height:18px;border:1px solid;border-bottom:none}.ydd-trans-container{display:block;line-height:160%}.ydd-trans-container a{text-decoration:none;}#yddBottom{position:absolute;bottom:0;left:0;width:100%;height:22px;line-height:22px;overflow:hidden;background-position:left -22px}.ydd-padding010{padding:0 10px}#yddWrapper{color:#252525;z-index:10001;background:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ab20.png);}#yddContainer{background:#fff;border-color:#4b7598}#yddTopBorderlr{border-color:#f0f8fc}#yddWrapper .ydd-sp{background-image:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ydd-sprite.png)}#yddWrapper a,#yddWrapper a:hover,#yddWrapper a:visited{color:#50799b}#yddWrapper .ydd-tabs{color:#959595}.ydd-tabs,.ydd-tab{background:#fff;border-color:#d5e7f3}#yddBottom{color:#363636}#yddWrapper{min-width:250px;max-width:400px;}</style></html>